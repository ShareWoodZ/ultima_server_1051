private ["_missName","_coords","_base","_vehicle","_crate"];
_missName	=	"Полевой госпиталь преступников";
_coords	=	call DZMSFindPos;
[nil,nil,rTitleText,"Преступники открыли полевой госпиталь!\nНе дай им обосноваться в этом месте!", "PLAIN",10] call RE;
[_coords,_missname] ExecVM DZMSAddMajMarker;
_base	=	createVehicle ["Land_fort_artillery_nest",[(_coords select 0) - 5.939,(_coords select 1) + 10.0459,0],[], 0, "CAN_COLLIDE"];
_base setDir -31.158424;
[_base] call DZMSProtectObj;
_base setVehicleLock "LOCKED";
_base setPos [(_coords select 0) - 5.939,(_coords select 1) + 10.0459,0];
_base	=	createVehicle ["Land_fort_artillery_nest",[(_coords select 0) + 6.3374, (_coords select 1) - 11.1944,0],[], 0, "CAN_COLLIDE"];
_base setDir -211.14516;
[_base] call DZMSProtectObj;
_base setVehicleLock "LOCKED";
_base setPos [(_coords select 0) + 6.3374, (_coords select 1) - 11.1944,0];
_base	=	createVehicle ["Land_fort_rampart",[(_coords select 0) + 12.2456, (_coords select 1) + 6.249,0],[], 0, "CAN_COLLIDE"];
_base setDir -120.93051;
[_base] call DZMSProtectObj;
_base setVehicleLock "LOCKED";
_base setPos [(_coords select 0) + 12.2456, (_coords select 1) + 6.249,0];
_base	=	createVehicle ["Land_fort_rampart",[(_coords select 0) - 11.4253, (_coords select 1) - 7.628,0],[], 0, "CAN_COLLIDE"];
_base setDir 59.42643;
[_base] call DZMSProtectObj;
_base setVehicleLock "LOCKED";
_base setPos [(_coords select 0) - 11.4253, (_coords select 1) - 7.628,0];
_base	=	createVehicle ["MedBox0",[(_coords select 0) - 7.1519, (_coords select 1) + 1.8144,0],[], 0, "CAN_COLLIDE"];
_base setDir -29.851013;
[_base] call DZMSProtectObj;
_base	=	createVehicle ["MedBox0",[(_coords select 0) - 7.4116, (_coords select 1) + 2.5244,0],[], 0, "CAN_COLLIDE"];
[_base] call DZMSProtectObj;
_base	=	createVehicle ["WeaponHolder_ItemToolbox",[(_coords select 0) - 7.7041, (_coords select 1) + 3.332,0],[], 0, "CAN_COLLIDE"];
_base setDir -106.46461;
[_base] call DZMSProtectObj;
_base	=	createVehicle ["Land_CamoNetVar_EAST",[(_coords select 0) + 4.1738, (_coords select 1) - 9680.4238],[], 0, "CAN_COLLIDE"];
_base setDir -27.004126;
[_base] call DZMSProtectObj;
_base setVehicleLock "LOCKED";
_base setPos [(_coords select 0) + 4.1738, (_coords select 1) - 9680.4238];
_base	=	createVehicle ["PowGen_Big",[(_coords select 0) - 0.8936, (_coords select 1) + 8.1582,0],[], 0, "CAN_COLLIDE"];
_base setDir -56.044361;
[_base] call DZMSProtectObj;
_base	=	createVehicle ["Barrel5",[(_coords select 0) - 2.5074, (_coords select 1) + 7.3466,0],[], 0, "CAN_COLLIDE"];
[_base] call DZMSProtectObj;
_base	=	createVehicle ["Barrel5",[(_coords select 0) - 3.293, (_coords select 1) + 7.9179,0],[], 0, "CAN_COLLIDE"];
[_base] call DZMSProtectObj;
_base	=	createVehicle ["Land_Campfire_burning",[(_coords select 0) + 3.1367, (_coords select 1) - 5.087,0],[], 0, "CAN_COLLIDE"];
[_base] call DZMSProtectObj;
_base	=	createVehicle ["FoldChair",[(_coords select 0) + 0.8589, (_coords select 1) - 6.2676,0],[], 0, "CAN_COLLIDE"];
_base setDir -132.43658;
[_base] call DZMSProtectObj;
_base	=	createVehicle ["FoldChair",[(_coords select 0) + 2.6909, (_coords select 1) - 7.4805,0],[], 0, "CAN_COLLIDE"];
_base setDir -184.45828;
[_base] call DZMSProtectObj;
_base	=	createVehicle ["FoldChair",[(_coords select 0) + 5.4175, (_coords select 1) - 5.4903,0],[], 0, "CAN_COLLIDE"];
_base setDir 96.993355;
[_base] call DZMSProtectObj;
_base	=	createVehicle ["FoldChair",[(_coords select 0) + 4.5722, (_coords select 1) - 7.2305,0],[], 0, "CAN_COLLIDE"];
_base setDir 142.91867;
[_base] call DZMSProtectObj;
_base	=	createVehicle ["FoldChair",[(_coords select 0) + 5.0542, (_coords select 1) - 3.4649,0],[], 0, "CAN_COLLIDE"];
_base setDir 55.969147;
[_base] call DZMSProtectObj;
_vehicle	=	createVehicle ["HMMWV_DZ",[(_coords select 0) - 17.5078, (_coords select 1) + 5.2578,0],[], 0, "CAN_COLLIDE"];
[_vehicle] call DZMSSetupVehicle;
_crate	=	createVehicle ["USLaunchersBox",[(_coords select 0) - 6.8277, (_coords select 1) + 5.6748,0],[], 0, "CAN_COLLIDE"];
[_crate,"medical"] ExecVM DZMSBoxSetup;
[[(_coords select 0) - 0.5635,(_coords select 1) + 0.3173,0],3,1] ExecVM DZMSAISpawn;
sleep 5;
[[(_coords select 0) - 0.5635,(_coords select 1) + 0.3173,0],3,1] ExecVM DZMSAISpawn;
sleep 5;
[[(_coords select 0) - 0.5635,(_coords select 1) + 0.3173,0],3,1] ExecVM DZMSAISpawn;
sleep 5;
[[(_coords select 0) - 0.5635,(_coords select 1) + 0.3173,0],3,1] ExecVM DZMSAISpawn;
waitUntil{{isPlayer _x && _x distance _coords <= 30  } count playableunits > 0};
[_vehicle] ExecVM DZMSSaveVeh;
[nil,nil,rTitleText,"Полевой госпиталь перешел под контроль выживших.", "PLAIN",6] call RE;
diag_log format["[DZMS]: Мажор миссия SM3 завершена."];
deleteMarker "DZMSMajMarker";
deleteMarker "DZMSMajDot";
DZMSMajDone = true;